<div class="chat-container">
  <div class="chat-messages" #chatContainer>
    <mat-card *ngFor="let msg of messages" [ngClass]="msg.sender" class="message-card">
      <mat-card-content>
        <div class="message-content" [innerHTML]="msg.text | markdown"></div>
      </mat-card-content>
    </mat-card>
    <mat-progress-spinner *ngIf="isLoading" class="loading-indicator" mode="indeterminate" diameter="32">
    </mat-progress-spinner>
  </div>
  <mat-divider></mat-divider>
  <form class="chat-input" (submit)="sendMessage()">
    <mat-form-field appearance="outline" class="input-field">
      <input matInput [(ngModel)]="newMessage" name="message" placeholder="Type your message..." required>
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit">
      <mat-icon>send</mat-icon>
    </button>
  </form>
</div>